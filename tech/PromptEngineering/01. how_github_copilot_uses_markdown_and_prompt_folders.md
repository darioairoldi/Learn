# How GitHub Copilot Uses Markdown and Prompt Folders within Your Repo
*(For Visual Studio Code & Visual Studio)*

GitHub Copilot's generative AI is most effective when it has access to a <mark>**structured context**</mark> about your project.  
Both Visual Studio Code (VS Code) and the latest versions of Visual Studio allow you to embed that context directly in your repository using <mark>**markdown-based prompt and instruction files**</mark>.  
These files guide Copilot by encoding reusable prompts, coding standards, business rules, and project documentation.  

This article explains how Copilot consumes these files in **VS Code** and **Visual Studio**, with clarifications based on updated official documentation and community practices.

## Table of Contents

- [ğŸ“ Prompt Files: What They Are and Where They Work](#-prompt-files-what-they-are-and-where-they-work)
- [ğŸ“š Custom Instructions: Cross-IDE Context](#-custom-instructions-cross-ide-context)
- [ğŸ¤– Chat Modes in VS Code](#-chat-modes-in-vs-code)
- [ğŸ”§ Custom Agents](#-custom-agents)
- [ğŸ”Œ Model Context Protocol (MCP)](#-model-context-protocol-mcp)
- [ğŸ“ Optional `.copilot/` Folder: Enhancing Local Context](#-optional-copilot-folder-enhancing-local-context)
- [âš™ï¸ VS Code Settings Reference](#ï¸-vs-code-settings-reference)
- [ğŸ”‘ Key Takeaways](#-key-takeaways)
- [ğŸ”— References](#-references)
- [ğŸ“ Appendix A: Unified Agent Architecture (v1.107+)](#-appendix-a-unified-agent-architecture-v1107)
- [ğŸ“ Appendix B: Bring-Your-Own-Key Model Management](#-appendix-b-bring-your-own-key-model-management)
- [ğŸ“ Appendix C: Legacy .chatmode.md Migration](#-appendix-c-legacy-chatmodemd-migration)
- [ğŸ“ Appendix D: JetBrains IDE Support](#-appendix-d-jetbrains-ide-support)
- [ğŸ“ Appendix E: Deprecated VS Code Settings](#-appendix-e-deprecated-vs-code-settings)


# ğŸ“ Prompt Files: What They Are and Where They Work

A <mark>**prompt file**</mark> is a <mark>reusable Markdown document</mark> (with a <mark>`.prompt.md` extension</mark>) that you can run as a <mark>slash- or hashtag-command</mark> in Copilot Chat.  
It typically begins with an optional <mark>**YAML header**</mark> specifying metadata such as name, description, agent mode, preferred model and available tools.  
The remainder is the prompt body, written in Markdown, containing the instructions or template you want Copilot to follow.  
For example, a security audit prompt might instruct Copilot to review an API and output a list of vulnerabilities.

Prompt files were first introduced in <mark>VS Code</mark> and <mark>JetBrains IDEs</mark>.  
<mark>**As of Visual Studio 2022 version 17.10 and later (including Visual Studio 2026), Visual Studio also supports prompt files**</mark> stored under `.github/prompts` with a `.prompt.md` extension.  
<mark>In Visual Studio, you can reference these prompts by typing `#prompt:<prompt-name>` (or using the "+" icon) to attach the prompt to the chat</mark>.  
For earlier Visual Studio versions (pre-17.10), prompt files are not recognized.

### Required Locations

- <mark>**`.github/prompts/`**</mark> (workspace prompts). This is the default folder for <mark>**workspace-level prompt files**</mark> and is recognized automatically by both VS Code and Visual Studio (17.10+). Any `.prompt.md` file here becomes available in Copilot Chat: <mark>in VS Code it appears as `/promptName`, and in Visual Studio it appears as `#promptName` or `#prompt:<prompt-name>`</mark>.
- **User prompt files** (VS Code only). <mark>User-scope prompts</mark> are stored in a folder within your VS Code profile:
  - **Windows**: `%APPDATA%\Code\User\prompts\` (stable) or `%APPDATA%\Code - Insiders\User\prompts\` (Insiders)
  - **macOS**: `~/Library/Application Support/Code/User/prompts/`
  - **Linux**: `~/.config/Code/User/prompts/`
  
  These prompts are available across all your VS Code workspaces and appear as slash commands (e.g., `/my-prompt`). They do <mark>**not synchronise to your team via Git**</mark>, but you can enable <mark>**VS Code's Settings Sync**</mark> to share them across your own machines. Visual Studio currently has no equivalent mechanism; it only consumes repository-level prompt files.

### Prompt File Variables

Prompt files support <mark>**variable substitution**</mark> to make them dynamic and context-aware:

| Variable | Description |
|----------|-------------|
| `${selection}` | Currently selected text in the editor |
| `${selectedText}` | Alias for `${selection}` |
| `${file}` | Full path of the current file |
| `${fileBasename}` | Filename without path |
| `${fileDirname}` | Directory containing the current file |
| `${workspaceFolder}` | Root folder of the workspace |
| `${workspaceFolderBasename}` | Name of the workspace folder |
| `${input:variableName}` | Prompts user for input |
| `${input:variableName:placeholder}` | User input with placeholder text |

Example usage in a prompt file:
```markdown
Analyze the following code from ${fileBasename}:
${selection}

Focus on: ${input:focus:What aspect should I focus on?}
```

### Tool References in Prompts

Prompt files and instructions can reference specific tools using the <mark>**`#tool:<tool-name>`**</mark> syntax:

```markdown
Use #tool:githubRepo to search for similar implementations.
Check #tool:terminalLastCommand for recent command output.
```

Common tool references:
- `#tool:githubRepo` â€“ Search GitHub repositories
- `#tool:terminalLastCommand` â€“ Access recent terminal output
- `#tool:problems` â€“ Get current workspace errors/warnings
- `#tool:codebase` â€“ Search the codebase semantically

### Location **not** automatically supported

Some community blogs suggest grouping Copilot files under a `.github/copilot/prompts/` folder. <mark>**Officially, this location is not recognised by default**</mark>. Both VS Code and Visual Studio expect prompt files in `.github/prompts/` unless you change VS Code's `chat.promptFilesLocations` setting to include the custom path. Visual Studio does not provide a configurable prompt-file location, so it cannot automatically read from `.github/copilot/prompts/`. 

<mark>**Important**: Files stored in `.github/copilot/prompts/` will not automatically show up in Copilot Chat</mark> unless you explicitly configure VS Code settings or manually attach them. The official, out-of-the-box location is `.github/prompts/`.

# ğŸ“š Custom Instructions: Cross-IDE Context

To ensure Copilot respects <mark>**project-specific rules and guidelines**</mark>â€”such as your naming conventions, security requirements or testing standardsâ€”you can add <mark>**custom instructions**</mark>. These instructions are stored in Markdown files that <mark>Copilot automatically injects into every chat request</mark>.

- <mark>**`.github/copilot-instructions.md`**</mark> is the <mark>**repository-wide**</mark> instructions file. Both VS Code and Visual Studio support this file, provided that the "Use Instruction Files" feature is enabled. The file should contain concise, self-contained statements about your project's coding guidelines or tooling requirements. In Visual Studio, you must enable custom instructions in the Copilot settings (Tools > Options > GitHub > Copilot > Copilot Chat). Once enabled, instructions are injected into every chat request but remain hidden from view.

- <mark>**`.github/instructions/`**</mark> holds one or more `.instructions.md` files for <mark>**path- or language-specific guidance**</mark>. Each file can specify front-matter fields like `applyTo` to control which files or folders the instructions apply to (e.g., only `**/*.cs` for C# files). This feature is supported by both VS Code and Visual Studio 17.10+ (though Visual Studio requires the custom instructions feature to be enabled). Visual Studio 2022 versions prior to 17.10 do not support custom instructions.

### Instructions File Frontmatter

```yaml
---
applyTo: "**/*.ts"           # Glob pattern for matching files
excludeAgent: "code-review"   # Exclude from specific agents
---
```

The <mark>**`excludeAgent`**</mark> property controls which agents should NOT use these instructions:
- `"code-review"` â€“ Excludes instructions from Copilot code review
- `"coding-agent"` â€“ Excludes instructions from the GitHub Copilot coding agent

# ğŸ¤– Chat Modes in VS Code

GitHub Copilot Chat provides <mark>**four built-in chat modes**</mark> accessible via the agent picker in the chat input:

| Mode | Description | Use Case |
|------|-------------|----------|
| <mark>**Agent**</mark> | Autonomous mode that determines necessary changes and applies them directly to your workspace | Complex multi-file refactoring, feature implementation |
| <mark>**Plan**</mark> | Creates detailed implementation plans without modifying files (read-only) | Architecture planning, understanding approach before execution |
| <mark>**Ask**</mark> | Q&A mode for questions without file modifications | Learning, code explanations, debugging assistance |
| <mark>**Edit**</mark> | Direct code editing mode for targeted changes | Quick fixes, single-file modifications |

These built-in modes <mark>**supersede many custom multi-phase agent patterns**</mark> that were previously required. For example, a three-phase "analyze â†’ plan â†’ implement" workflow can now be achieved by using Plan mode first, then switching to Agent mode for execution.

### Unified Agent Architecture (v1.107+)

VS Code 1.107 introduced <mark>**Agent HQ**</mark>, a unified interface for managing agent sessions across three execution contexts:

| Context | Execution | Isolation | Best For |
|---------|-----------|-----------|----------|
| <mark>**Local**</mark> | Interactive, in current workspace | Noneâ€”shares your workspace | Quick tasks, interactive debugging |
| <mark>**Background**</mark> | Runs autonomously using Git work trees | Fullâ€”uses isolated work tree | Long-running tasks without blocking workflow |
| <mark>**Cloud**</mark> | Runs on GitHub, creates PRs | Fullâ€”separate branch | Async work, team collaboration, overnight tasks |

<mark>**Planning mode now integrates with agent delegation**</mark>: After Plan mode generates an implementation plan, you can use the **"Start Implementation"** button to delegate execution to a local, background, or cloud agent.

For comprehensive coverage of Agent HQ, session management, work tree isolation workflows, and visual walkthroughs, see [ğŸ“ Appendix A: Unified Agent Architecture](#-appendix-a-unified-agent-architecture-v1107).

# ğŸ”§ Custom Agents

<mark>**Custom agents**</mark> (previously called "chat modes") allow you to define specialized AI personas with specific tools, instructions, and workflows. These are stored as <mark>**`.agent.md`**</mark> files and are available from <mark>**VS Code 1.106+**</mark>.

For comprehensive guidance on structuring agent files, defining personas, configuring tools, and creating handoff workflows, see [How to Structure Content for Copilot Agent Files](./04.%20how_to_structure_content_for_copilot_agent_files.md).

### Agent File Locations

- <mark>**`.github/agents/`**</mark> â€“ Workspace-level agents shared via Git with your team
- <mark>**User profile folder**</mark> (VS Code only) â€“ Personal agents available across all workspaces

### Agent File Structure

Each `.agent.md` file includes:
- **YAML frontmatter** specifying tools, model preferences, and target environment
- **Markdown body** containing the agent's persona, instructions, and workflow
- **Handoffs** (optional) for orchestrating multi-step workflows between agents

```yaml
---
name: security-auditor
description: Reviews code for security vulnerabilities
tools:
  - read_file
  - semantic_search
  - grep_search
model: claude-sonnet-4
target: vscode
---
You are a security expert. Analyze the provided code for:
- SQL injection vulnerabilities
- XSS attack vectors
- Authentication bypasses
...
```

**Supported frontmatter fields:**

| Field | Description |
|-------|-------------|
| <mark>`name`</mark> | Agent identifier |
| <mark>`description`</mark> | Brief description shown in agent picker |
| <mark>`argument-hint`</mark> | Placeholder text in chat input |
| <mark>`tools`</mark> | List of tools/tool sets the agent can use |
| <mark>`model`</mark> | Preferred AI model (e.g., `claude-sonnet-4`, `gpt-4o`) |
| <mark>`target`</mark> | Environment: `vscode` or `github-copilot` |
| <mark>`mcp-servers`</mark> | MCP server configs (for `github-copilot` target) |
| <mark>`handoffs`</mark> | Workflow transitions to other agents |
### Handoffs: Multi-Agent Workflows

<mark>**Handoffs**</mark> enable orchestrating multi-step workflows between agents:

```yaml
---
name: architect
description: Plans implementation approach
handoffs:
  - label: Start Implementation
    agent: implementer
    prompt: Now implement the plan outlined above.
    send: false  # false = user reviews before sending
---
```

When the architect agent completes its task, the user sees a "Start Implementation" button to hand off to the implementer agent.

### AGENTS.md vs .agent.md

<mark>**Important distinction:**</mark>

| File | Used By | Execution | Location |
|------|---------|-----------|----------|
| **`AGENTS.md`** | GitHub Copilot coding agent | Asynchronous (runs on GitHub, creates PRs) | Repo root (or subfolders*) |
| **`CLAUDE.md`** | Alternative to AGENTS.md | Same as AGENTS.md | Repo root |
| **`GEMINI.md`** | Alternative to AGENTS.md | Same as AGENTS.md | Repo root |
| **`.agent.md`** | VS Code chat agents | Interactive (runs locally in IDE) | `.github/agents/` |

*<small>Nested `AGENTS.md` files in subfolders are supported experimentally via the `chat.useNestedAgentsMdFiles` setting. The nearest file in the directory tree takes precedence.</small>

Visual Studio uses `AGENTS.md` (or alternatives) for its coding agent integration but does not currently support `.agent.md` files for chat.

# ğŸ”Œ Model Context Protocol (MCP)

The <mark>**Model Context Protocol (MCP)**</mark> is now generally available in VS Code (1.102+). MCP provides a <mark>**standardized way to connect Copilot to external data sources and tools**</mark>.

### What MCP Enables

- **Structured tool access** â€“ Connect to databases, APIs, cloud services
- **Typed data retrieval** â€“ Get data in formats Copilot can reason about
- **Reduced tool clash** â€“ Narrowly-scoped tool definitions prevent conflicts

### MCP 1.0 Features (December 2024)

The <mark>**MCP 1.0 anniversary release**</mark> introduced production-ready features:

| Feature | Description |
|---------|-------------|
| <mark>**Tasks**</mark> | Durable, resumable operations that persist across sessions |
| <mark>**Sampling**</mark> | MCP servers can request LLM completions from the client |
| <mark>**Elicitation**</mark> | Servers can prompt users for input (URL mode, traditional dialogs) |
| <mark>**Custom Icons**</mark> | Servers can provide icons for tools and resources |

### MCP Registry and Discovery

<mark>**Discover MCP servers via `@mcp` search**</mark> in the Extensions view. The curated registry includes servers for:
- **<mark>>Playwright</mark>** â€“ Browser automation and testing
- **<mark>GitHub</mark>** â€“ Repository operations and issue management  
- **<mark>Wikipedia</mark>** â€“ Knowledge base queries
- **<mark>Microsoft Learn</mark>** â€“ Azure and Microsoft documentation

One-click installation adds servers directly to your `mcp.json` configuration.

### GitHub MCP Server (Preview)

VS Code 1.107 includes a <mark>**built-in GitHub MCP server**</mark> for remote agent operations:

| Setting | Description | Default |
|---------|-------------|---------|
| `github.copilot.chat.githubMcpServer.enabled` | Enable GitHub MCP server | `false` |
| `github.copilot.chat.githubMcpServer.toolsets` | Enable tool categories (issues, prs, repos, etc.) | All enabled |
| `github.copilot.chat.githubMcpServer.readonly` | Restrict to read-only operations | `false` |
| `github.copilot.chat.githubMcpServer.lockdown` | Limit to current repository only | `false` |

### Configuration

MCP servers are configured via `mcp.json` files in your workspace or user settings. The GitHub MCP registry at [github.com/mcp](https://github.com/mcp) provides pre-built servers for common integrations.

```json
{
  "servers": {
    "azure-devops": {
      "command": "npx",
      "args": ["@azure/mcp-server-ado"]
    }
  }
}
```

MCP is particularly valuable for building specialized agents that need access to external systemsâ€”such as an Azure DevOps agent that can query work items, or a database agent that can inspect schemas.

# ğŸ“ Optional `.copilot/` Folder: Enhancing Local Context

Although not part of the official specification, a practical <mark>**`.copilot/`**</mark> directory can hold rich project documentation and reference materials to help Copilot understand your codebase. It may include subfolders such as:

- <mark>`context/`</mark> (e.g. data schemas, API contracts, code patterns, workflows, guidelines, examples) â€“ <mark>Copilot will index files here and use them to inform its responses</mark>.
- `architecture/`, `troubleshooting/`, `examples/`, `images/`, `data/`, `reference/` â€“ these are suggested subfolders used in some community guides. <mark>None of these files automatically generate chat commands; they simply improve the semantic search</mark> used by Copilot in both VS Code and Visual Studio.

# âš™ï¸ VS Code Settings Reference

The following settings control how VS Code handles Copilot customization files:

## Prompt Files Settings

| Setting | Description | Default |
|---------|-------------|---------|
| `chat.promptFiles` | Enable/disable prompt file support | `true` |
| `chat.promptFilesLocations` | Additional folders to search for `.prompt.md` files | `[]` |
| `chat.promptFilesRecommendations` | Show prompts as recommended actions when starting new chat | `true` |

## Instructions Settings

| Setting | Description | Default |
|---------|-------------|---------|
| `chat.instructionsFilesLocations` | Additional folders to search for `.instructions.md` files | `[]` |
| `github.copilot.chat.reviewSelection.instructions` | Custom instructions for code review | `[]` |
| `github.copilot.chat.commitMessageGeneration.instructions` | Instructions for commit message generation | `[]` |
| `github.copilot.chat.pullRequestDescriptionGeneration.instructions` | Instructions for PR description generation | `[]` |

## Agent Settings

| Setting | Description | Default |
|---------|-------------|---------|
| `chat.useNestedAgentsMdFiles` | **Experimental:** Enable `AGENTS.md` files in subfolders | `false` |

## MCP Settings

| Setting | Description | Default |
|---------|-------------|---------|
| `chat.mcp.discovery.enabled` | Auto-discover MCP servers from `mcp.json` files | `true` |
| `chat.mcp.gallery.enabled` | Enable the MCP server gallery in Extensions view | `true` |

## Settings Sync

You can synchronize prompt files and instructions across devices using VS Code's Settings Sync. Enable via:
**Settings Sync: Configure** â†’ Check **Prompts and Instructions**

---

# ğŸ”‘ Key Takeaways

| Capability | VS Code | Visual Studio 2022 (17.10+) | Earlier VS versions |
|---|---|---|---|
| **Workspace prompt files** (`.github/prompts/*.prompt.md`) | Supported; slash commands `/promptName` appear in chat | Supported; use hashtag commands `#promptName` (since 17.10) | Not supported prior to 17.10 |
| **User prompt files** (`\.prompt.md` in VS Code profile) | Available as personal slash commands across all projects | Not supported | Not applicable |
| **Repo-level instructions** (`.github/copilot-instructions.md`) | Supported (requires enabling the â€œUse Instruction Filesâ€ setting) | Supported (requires enabling custom instructions in options) | Not supported prior to 17.10 |
| **Path-specific instructions** (`.github/instructions/*.instructions.md`) | Supported with `applyTo` patterns | Supported (requires enabling custom instructions) | Not supported prior to 17.10 |
| **Custom agents** (`.github/agents/*.agent.md`) | Supported from VS Code 1.106+. Each `.agent.md` defines a specialized persona, tools, and workflow. Supports handoffs for multi-agent orchestration. | Not supported for chat; Visual Studio uses `AGENTS.md`, `CLAUDE.md`, or `GEMINI.md` for its async coding agent (creates PRs). | Not available |
| **Chat modes** (Agent, Plan, Ask, Edit) | Built-in modes available via agent picker. Agent mode enables autonomous file editing; Plan mode creates implementation plans. | Not applicable; Visual Studio has different interaction patterns. | Not available |
| **Unified Agent Architecture** (v1.107+) | Agent HQ provides unified interface for local, background (work tree), and cloud agent sessions with seamless delegation. See [Appendix A](#-appendix-a-unified-agent-architecture-v1107). | Cloud agents via Copilot coding agent (creates PRs). | Not available |
| **MCP servers** (`mcp.json`) | MCP 1.0 GA (VS Code 1.102+). Features: Tasks, Sampling, Elicitation, Custom Icons. MCP Registry via `@mcp` search. GitHub MCP Server (Preview) built-in. | Not currently supported. | Not available |
| **BYOK / Model Management** (v1.107+) | Language Models Editor with BYOK support (Cerebras, OpenRouter, Ollama, etc.). HuggingFace extension for open-weights models. See [Appendix B](#-appendix-b-bring-your-own-key-model-management). | Not currently supported. | Not available |
| **`.github/copilot/` directory** | Optional; backed by community best practices for storing shared context, knowledge, patterns and examples. These files improve context but don't create commands. | Optional; improves local semantic search in Visual Studio. | Optional (if user chooses), but not part of official features. |

By following these updated guidelinesâ€”placing prompt files in `.github/prompts/` with a `.prompt.md` suffix, activating instruction files appropriately, and using a `.copilot/` folder for extended contextâ€”you can leverage GitHub Copilot effectively across both **VS Code** and the latest **Visual Studio** versions.

---

# ğŸ”— References

## Official GitHub Copilot Documentation

**[GitHub Copilot Documentation - Repository Instructions](https://docs.github.com/en/copilot/how-tos/configure-custom-instructions/add-repository-instructions)**  
The official GitHub documentation for customizing Copilot with repository-level instructions. Covers prompt files (`.prompt.md`), instruction files (`.github/copilot-instructions.md` and `.github/instructions/`), and `AGENTS.md` configuration. Essential reading for understanding the official specification and best practices.

**[VS Code Copilot Customization Overview](https://code.visualstudio.com/docs/copilot/customization/overview)**  
Microsoft's comprehensive guide to customizing GitHub Copilot in VS Code. Covers custom agents, custom instructions, prompt files, and MCP server configuration. The authoritative source for VS Code-specific features and settings.

**[Visual Studio Code - GitHub Copilot Chat](https://code.visualstudio.com/docs/copilot/copilot-chat)**  
VS Code's official documentation for GitHub Copilot Chat features, including slash commands, context variables, and prompt file integration. Provides practical examples of using Copilot within the VS Code environment and configuring chat settings.

## Visual Studio Support

**[Visual Studio 2022 Release Notes - GitHub Copilot Features](https://learn.microsoft.com/en-us/visualstudio/releases/2022/release-notes)**  
Official Microsoft release notes documenting when GitHub Copilot features were added to Visual Studio 2022. Version 17.10 introduced support for prompt files and custom instructions. Essential for understanding feature compatibility across different Visual Studio versions.

**[Visual Studio GitHub Copilot Documentation](https://learn.microsoft.com/en-us/visualstudio/ide/visual-studio-github-copilot-extension)**  
Microsoft's comprehensive guide to using GitHub Copilot in Visual Studio, including configuration, chat features, and how to enable custom instructions through Tools > Options > GitHub > Copilot settings. Relevant for Visual Studio users who need to configure Copilot properly.

## Community Best Practices and Patterns

**[GitHub Blog - How to use GitHub Copilot: Prompts, tips, and use cases](https://github.blog/developer-skills/github/how-to-use-github-copilot-prompts-tips-and-use-cases/)**  
GitHub's official blog post covering prompt engineering best practices, effective communication patterns with Copilot, and real-world use cases. Valuable for understanding how to write effective prompts and structure your instructions for optimal results.

**[How to write a great AGENTS.md: Lessons from over 2,500 repositories](https://github.blog/ai-and-ml/github-copilot/how-to-write-a-great-agents-md-lessons-from-over-2500-repositories/)**  
Comprehensive analysis of over 2,500 agent.md files identifying patterns that separate successful custom agents from failures. Covers the six core areas (commands, testing, project structure, code style, git workflow, and boundaries) with practical templates and real-world examples.

**[VS Code Agent Mode Documentation](https://code.visualstudio.com/docs/copilot/chat/chat-agent-mode)**  
Documentation for the Agent mode in VS Code that enables autonomous file editing and code generation. Explains how Agent mode, combined with Plan mode, provides powerful multi-step workflows.

## Additional Context and Architecture

**[VS Code API - Chat Extension Guide](https://code.visualstudio.com/api/extension-guides/chat)**  
For developers building VS Code extensions that integrate with Copilot Chat. Explains the chat API, participant patterns, and how extensions can contribute custom slash commands. Relevant for understanding the extensibility model and how prompt files fit into the broader VS Code chat architecture.

**[GitHub Copilot Trust Center](https://resources.github.com/copilot-trust-center/)**  
Official resource covering security, privacy, and data handling in GitHub Copilot. Important for understanding how your prompts, instructions, and code context are processed, what data is sent to GitHub, and compliance considerations for enterprise use.

## Model Context Protocol and Tools

**[Model Context Protocol (MCP) Specification](https://modelcontextprotocol.io/)** `[ğŸ“˜ Official]`  
The protocol specification for connecting AI assistants to external data sources and tools. MCP provides structured, typed access to external systems, enabling narrowly-scoped tool definitions that reduce tool clash and improve reliability.

**[VS Code MCP Servers Documentation](https://code.visualstudio.com/docs/copilot/customization/mcp-servers)** `[ğŸ“˜ Official]`  
Official VS Code documentation for configuring MCP servers. Explains how to set up `mcp.json` files and connect Copilot to external data sources like databases, cloud services, and APIs.

## VS Code Release Notes

**[VS Code v1.107 Release Notes](https://code.visualstudio.com/updates/v1_107)** `[ğŸ“˜ Official]`  
December 2024 release introducing Agent HQ unified interface, background agents with work tree isolation, MCP 1.0 features (Tasks, Sampling, Elicitation), GitHub MCP Server (Preview), enhanced Language Models Editor with BYOK support, and Claude skills integration. Essential reading for understanding the latest agentic development capabilities.

**[VS Code v1.106 Release Notes](https://code.visualstudio.com/updates/v1_106)** `[ğŸ“˜ Official]`  
November 2024 release that made custom agents (`.agent.md` files) stable, introduced handoff workflows between agents, and added the `target` field for distinguishing VS Code vs GitHub Copilot execution contexts.

**[HuggingFace for VS Code Extension](https://marketplace.visualstudio.com/items?itemName=huggingface.huggingface-vscode)** `[ğŸ“˜ Official]`  
Official extension for using HuggingFace models in VS Code Copilot Chat. Provides access to open-weights models (Llama, Mistral, DeepSeek, Qwen) via multiple inference providers with automatic cost/speed optimization.

## Prompt Engineering Fundamentals

**[Prompt engineering techniques - Microsoft Azure AI](https://learn.microsoft.com/en-us/azure/ai-foundry/openai/concepts/prompt-engineering)**  
Microsoft's comprehensive guide to prompt engineering techniques covering instruction design, primary content structuring, few-shot learning, and output specification. Includes detailed examples of breaking down tasks and specifying output structures.

**[Prompt engineering - OpenAI](https://platform.openai.com/docs/guides/prompt-engineering)**  
OpenAI's official prompt engineering guide providing foundational strategies for working with GPT models. Covers core techniques including instruction clarity, systematic approaches to prompt construction, and best practices for reducing hallucination.

**[Reasoning best practices - OpenAI](https://platform.openai.com/docs/guides/reasoning-best-practices)**  
OpenAI's guidance on best practices for reasoning models, covering chain-of-thought prompting, step-by-step breakdowns, and techniques for improving model accuracy.

## Research

**[Lost in the Middle: How Language Models Use Long Contexts](https://arxiv.org/abs/2307.03172)**  
Academic research on context window attention patterns, documenting the phenomenon where models under-weight middle content. Foundational research for understanding why commands should be placed early in prompts and why context placement matters.

---

# ğŸ“ Appendix C: Legacy .chatmode.md Migration

Prior to VS Code 1.106, custom agents were called "chat modes" and used different file conventions:

| Legacy | Current |
|--------|--------|
| `.chatmode.md` extension | `.agent.md` extension |
| `.github/chatmodes/` folder | `.github/agents/` folder |

### Migration Steps

1. VS Code automatically recognizes legacy `.chatmode.md` files
2. A **Quick Fix** action appears to migrate files to the new format
3. Rename files from `*.chatmode.md` to `*.agent.md`
4. Move files from `.github/chatmodes/` to `.github/agents/`

<mark>**Recommendation:**</mark> Migrate to the new format for consistency with current documentation and to ensure future compatibility.

---

# ğŸ“ Appendix D: JetBrains IDE Support

JetBrains IDEs (IntelliJ IDEA, PyCharm, WebStorm, etc.) support GitHub Copilot with their own conventions:

## Supported Files

| File Type | Location | Notes |
|-----------|----------|-------|
| **Workspace instructions** | `.github/copilot-instructions.md` | Same as VS Code/Visual Studio |
| **Global instructions** | OS-specific path (see below) | Personal instructions across all projects |
| **Prompt files** | `.github/prompts/*.prompt.md` | Invoked via `/promptName` commands |

## Global Instructions Location

| OS | Path |
|----|------|
| **Windows** | `%APPDATA%\JetBrains\<product><version>\copilot\global-copilot-instructions.md` |
| **macOS** | `~/Library/Application Support/JetBrains/<product><version>/copilot/global-copilot-instructions.md` |
| **Linux** | `~/.config/JetBrains/<product><version>/copilot/global-copilot-instructions.md` |

*Replace `<product><version>` with your IDE (e.g., `IntelliJIdea2024.3`, `PyCharm2024.3`).*

## Differences from VS Code

- JetBrains does **not** support `.agent.md` files (custom agents)
- JetBrains does **not** support MCP server configuration
- Path-specific `.instructions.md` files work the same as VS Code
- Prompt files use `/promptName` syntax (same as VS Code)

---

# ğŸ“ Appendix E: Deprecated VS Code Settings

The following settings are <mark>**deprecated as of VS Code 1.102**</mark>. Use `.instructions.md` files instead:

| Deprecated Setting | Migration |
|-------------------|----------|
| `github.copilot.chat.codeGeneration.instructions` | Use `.github/instructions/*.instructions.md` with `applyTo` patterns |
| `github.copilot.chat.testGeneration.instructions` | Use `.github/instructions/*.instructions.md` with `applyTo` patterns |

<mark>**Recommendation:**</mark> Remove these deprecated settings from your VS Code configuration and migrate to instruction files for better maintainability and version control.

---

# ğŸ“ Appendix A: Unified Agent Architecture (v1.107+)

VS Code 1.107 introduced <mark>**Agent HQ**</mark>, a unified interface for managing agent sessions across local, background, and cloud execution contexts. This appendix provides detailed coverage of the architecture, workflows, and best practices.

## Agent HQ Interface

Agent HQ provides a centralized view of all agent sessions:

- **Recent Sessions List** â€“ View all local, background, and cloud sessions with filtering and search
- **Session State Indicators** â€“ Read/unread markers, input-required flags, completion status
- **Quick Actions** â€“ Archive, continue, copy workspace changes, delegate to different context

### Session Types Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AGENT EXECUTION CONTEXTS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   LOCAL     â”‚      â”‚   BACKGROUND    â”‚      â”‚        CLOUD            â”‚  â”‚
â”‚  â”‚   AGENT     â”‚      â”‚     AGENT       â”‚      â”‚        AGENT            â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Interactive â”‚      â”‚ Autonomous      â”‚      â”‚ Async (GitHub)          â”‚  â”‚
â”‚  â”‚ Same window â”‚      â”‚ Git work tree   â”‚      â”‚ Creates PRs             â”‚  â”‚
â”‚  â”‚ Blocks UI   â”‚      â”‚ Non-blocking    â”‚      â”‚ Team collaboration      â”‚  â”‚
â”‚  â”‚             â”‚      â”‚                 â”‚      â”‚                         â”‚  â”‚
â”‚  â”‚ Best for:   â”‚      â”‚ Best for:       â”‚      â”‚ Best for:               â”‚  â”‚
â”‚  â”‚ â€¢ Quick     â”‚      â”‚ â€¢ Long tasks    â”‚      â”‚ â€¢ Overnight work        â”‚  â”‚
â”‚  â”‚   fixes     â”‚      â”‚ â€¢ Parallel      â”‚      â”‚ â€¢ Complex refactors     â”‚  â”‚
â”‚  â”‚ â€¢ Iterative â”‚      â”‚   exploration   â”‚      â”‚ â€¢ Team review           â”‚  â”‚
â”‚  â”‚   work      â”‚      â”‚ â€¢ Large changes â”‚      â”‚                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Work Tree Isolation Workflow

<mark>**Background agents use Git work trees**</mark> for complete isolation from your main workspace:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WORK TREE ISOLATION WORKFLOW                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  1. REQUEST                                                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚     â”‚ "Create background  â”‚                                                   â”‚
â”‚     â”‚  agent session"     â”‚                                                   â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚               â”‚                                                               â”‚
â”‚               â–¼                                                               â”‚
â”‚  2. WORK TREE CREATION                                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ Git creates isolated work tree:                 â”‚                       â”‚
â”‚     â”‚ /repo/.git/worktrees/agent-session-xyz/         â”‚                       â”‚
â”‚     â”‚                                                 â”‚                       â”‚
â”‚     â”‚ â€¢ Full copy of current branch state             â”‚                       â”‚
â”‚     â”‚ â€¢ Independent staging area                      â”‚                       â”‚
â”‚     â”‚ â€¢ No interference with main workspace           â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚               â”‚                                                               â”‚
â”‚               â–¼                                                               â”‚
â”‚  3. AGENT EXECUTION                                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ Agent works in isolated work tree:              â”‚                       â”‚
â”‚     â”‚ â€¢ Makes changes without affecting main          â”‚                       â”‚
â”‚     â”‚ â€¢ Can run tests, builds in isolation            â”‚                       â”‚
â”‚     â”‚ â€¢ Session visible in Agent HQ                   â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚               â”‚                                                               â”‚
â”‚               â–¼                                                               â”‚
â”‚  4. REVIEW & INTEGRATE                                                        â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚     â”‚ User reviews changes in Agent HQ:               â”‚                       â”‚
â”‚     â”‚                                                 â”‚                       â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚                       â”‚
â”‚     â”‚  â”‚ Direct      â”‚  â”‚ Create PR   â”‚              â”‚                       â”‚
â”‚     â”‚  â”‚ Apply       â”‚  â”‚ for Review  â”‚              â”‚                       â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                       â”‚
â”‚     â”‚                                                 â”‚                       â”‚
â”‚     â”‚ Work tree cleaned up after integration          â”‚                       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Work Tree Benefits

| Benefit | Description |
|---------|-------------|
| <mark>**No Conflicts**</mark> | Agent changes don't interfere with your local uncommitted work |
| <mark>**Parallel Exploration**</mark> | Run multiple agents exploring different approaches simultaneously |
| <mark>**Safe Experimentation**</mark> | Agent can make breaking changes without affecting your environment |
| <mark>**SCM Integration**</mark> | Changes appear in Source Control view with clear session attribution |

### Enabling Work Trees

Work tree isolation is available via a dropdown when starting background sessions:

1. Open Agent HQ or use **"Continue in..."** from chat
2. Select **"Background (Work Tree)"** from the execution context dropdown
3. Agent session starts in isolated work tree
4. Review changes in Agent HQ â†’ **"Direct Apply"** or **"Create PR"**

## Planning â†’ Agent Delegation

<mark>**Plan mode integrates with agent delegation**</mark> for seamless workflows:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PLAN â†’ DELEGATE WORKFLOW                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  1. PLAN MODE                                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚     â”‚ User: "Plan authentication refactoring"   â”‚                  â”‚
â”‚     â”‚                                           â”‚                  â”‚
â”‚     â”‚ Copilot generates detailed plan:          â”‚                  â”‚
â”‚     â”‚ â€¢ Step 1: Extract auth middleware         â”‚                  â”‚
â”‚     â”‚ â€¢ Step 2: Create token service            â”‚                  â”‚
â”‚     â”‚ â€¢ Step 3: Update route handlers           â”‚                  â”‚
â”‚     â”‚ â€¢ Step 4: Add unit tests                  â”‚                  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                       â”‚                                            â”‚
â”‚                       â–¼                                            â”‚
â”‚  2. DELEGATION OPTIONS                                             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                  â”‚
â”‚     â”‚     â”‚  [Start Implementation]          â”‚   â”‚                  â”‚
â”‚     â”‚     â”‚                                  â”‚   â”‚                  â”‚
â”‚     â”‚     â”‚  Execute as:                     â”‚   â”‚                  â”‚
â”‚     â”‚     â”‚  â—‹ Local Agent (interactive)     â”‚   â”‚                  â”‚
â”‚     â”‚     â”‚  â—‹ Background Agent (work tree)  â”‚   â”‚                  â”‚
â”‚     â”‚     â”‚  â—‹ Cloud Agent (GitHub PR)       â”‚   â”‚                  â”‚
â”‚     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## v1.107.1 Improvements

The v1.107.1 patch release added refinements to the agent experience:

| Improvement | Description |
|-------------|-------------|
| **<mark>Side-by-Side View</mark>** | Agent sessions view defaults to side-by-side layout for easier comparison |
| **<mark>Input-Required Markers</mark>** | Sessions requiring user input are clearly marked in Agent HQ |
| **<mark>Workspace Copying</mark>** | Support for copying workspace changes when creating background sessions |
| **<mark>Persistent Chat Prompt</mark>** | Chat prompt is not cleared when creating a new session |
| **<mark>Collapsed Tool Calls</mark>** | Tool calls in cloud sessions are collapsed by default for cleaner UI |

## Entry Points for Delegation

You can delegate to different agent contexts from multiple entry points:

- **Chat View** â€“ "Continue in..." button in chat response
- **Agent HQ** â€“ Session actions menu â†’ "Continue as..."
- **Command Palette** â€“ "GitHub Copilot: Start Background Session"
- **Untitled Prompt Files** â€“ "Continue in..." button when drafting prompts

---

# ğŸ“ Appendix B: Bring-Your-Own-Key Model Management

VS Code 1.107 enhanced model management with the <mark>**Language Models Editor**</mark> and expanded <mark>**bring-your-own-key (BYOK)**</mark> support.

## Language Models Editor

Access via **Settings** â†’ **GitHub Copilot** â†’ **Language Models** or Command Palette â†’ "GitHub Copilot: Manage Language Models"

### Features

| Feature | Description |
|---------|-------------|
| <mark>**Model Visibility**</mark> | Hide unused models from the picker for a cleaner interface |
| <mark>**Capability Filtering**</mark> | Filter by vision support, tool calling, context window size |
| <mark>**Provider Management**</mark> | Add models from installed providers without leaving the editor |
| <mark>**Search with Highlighting**</mark> | Find models by name, provider, or capability |

### Filter Syntax

| Filter | Description |
|--------|-------------|
| `@provider:openai` | Show only OpenAI models |
| `@capability:vision` | Models with vision/image support |
| `@capability:tools` | Models with tool/function calling |
| `@visible:true/false` | Show visible or hidden models |

## BYOK Providers

<mark>**Bring-your-own-key**</mark> allows using models from external providers with your own API keys:

| Provider | Models Available | Notes |
|----------|-----------------|-------|
| <mark>**Cerebras**</mark> | Llama 3.3, DeepSeek v3.2, GLM-4.6 | Extremely fast inference |
| <mark>**OpenRouter**</mark> | 100+ models | Unified API for multiple providers |
| <mark>**Ollama**</mark> | Local models | Fully local, no API calls |
| <mark>**Azure OpenAI**</mark> | GPT-4o, GPT-4 Turbo | Enterprise deployment |
| <mark>**Anthropic (direct)**</mark> | Claude models | Direct API access |

### Adding a BYOK Provider

1. Open Command Palette â†’ "GitHub Copilot: Add API Key"
2. Select provider (Cerebras, OpenRouter, etc.)
3. Enter your API key
4. New models appear in the model picker

### Model Capabilities Display

The model picker now shows capability indicators:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Select Model                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Claude Sonnet 4        [200K] [ğŸ‘ï¸] [ğŸ”§]                 â”‚
â”‚  GPT-4o                 [128K] [ğŸ‘ï¸] [ğŸ”§]                 â”‚
â”‚  DeepSeek v3.2          [64K]  [ğŸ”§]                       â”‚
â”‚  Llama 3.3 70B          [128K] [ğŸ”§]                       â”‚
â”‚  o3                     [200K] [ğŸ”§] [ğŸ’­]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Legend: [context] [ğŸ‘ï¸ vision] [ğŸ”§ tools] [ğŸ’­ reasoning] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## HuggingFace Integration

The <mark>**HuggingFace Inference Provider extension**</mark> enables access to open-weights models:

### Features

| Feature | Description |
|---------|-------------|
| **Multiple Inference Providers** | HuggingFace Inference API, Nebius, SambaNova, Together AI, more |
| **Fastest/Cheapest Mode** | Automatic routing to optimal provider based on cost or speed |
| **Open-Weights Models** | Access to Llama, Mistral, DeepSeek, Qwen, and other open models |

### Installation

1. Install **"HuggingFace for VS Code"** extension from marketplace
2. Sign in with HuggingFace account
3. Models appear in Copilot's model picker
4. Select fastest/cheapest based on your preference

### Extension ID
`huggingface.huggingface-vscode`

## Quota Considerations

<mark>**Important:**</mark> BYOK models do not consume GitHub Copilot quota, but:

- Active Copilot subscription is still required
- Background query refinement (using GPT-4o Mini) doesn't count against quota
- BYOK costs are billed directly by the provider
- Full prompt logging available in output channel for debugging/optimization

## Claude Skills Support

VS Code 1.107 added support for <mark>**Claude skills**</mark>â€”reusable capability definitions that extend Claude's abilities:

- Skills can be referenced in agent files via the `tools` field
- Skills provide specialized behaviors (web browsing, file analysis, etc.)
- Growing ecosystem of community and official skills

---

*Last updated: December 2025*

---

# ğŸ“ Appendix F: GitHub Copilot vs Alternative AI Coding Tools

As AI coding assistants proliferate, teams often ask how GitHub Copilot compares to alternatives like Cursor, Cline, Continue Dev, and Windsurf. Understanding these differences helps teams choose the right toolâ€”or use them together strategically.

## Tool Overview Comparison

| Tool | Type | Integration | Customization Approach | License Model |
|------|------|-------------|----------------------|---------------|
| **GitHub Copilot** | IDE Extension | Native VS Code/Visual Studio/JetBrains | `.prompt.md`, `.agent.md`, `.instructions.md` | Commercial (paid) |
| **Cursor** | Forked IDE | Standalone VS Code fork | `.cursorrules` file + composer prompts | Commercial (paid) |
| **Cline** | VS Code Extension | Extension-based | Task-based prompts, no file-based config | Free (MIT) |
| **Continue Dev** | VS Code Extension | Extension-based | `config.json` + custom slash commands | Free (Apache 2.0) |
| **Windsurf** | Forked IDE | Standalone VS Code fork | `.windsurfrules` file | Commercial (paid) |

## Configuration File Comparison

### GitHub Copilot

**Configuration files:**
```
.github/
â”œâ”€â”€ copilot-instructions.md     # Repository-wide instructions
â”œâ”€â”€ prompts/
â”‚   â””â”€â”€ *.prompt.md             # Reusable prompts (slash commands)
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ *.agent.md              # Custom agents with personas
â””â”€â”€ instructions/
    â””â”€â”€ *.instructions.md       # Path-specific rules
```

**Key characteristics:**
- âœ… **Multi-file approach** - Separate concerns cleanly
- âœ… **YAML frontmatter** - Rich metadata (tools, model, handoffs)
- âœ… **Glob pattern matching** - Instructions auto-apply based on file patterns
- âœ… **Cross-IDE support** - Works in VS Code, Visual Studio, JetBrains (with variations)
- âœ… **Handoff support** - Agents can transfer control to other agents
- âŒ **Requires paid subscription** - No free tier

### Cursor

**Configuration files:**
```
.cursorrules              # Repository-wide rules (single file)
docs/                     # Referenced in composer mode
```

**Key characteristics:**
- âœ… **Simple single-file config** - All rules in one place
- âœ… **Composer mode** - Multi-file editing with planning
- âœ… **@docs reference** - Index documentation folders for context
- âœ… **Apply mode** - Incremental edits with verification
- âŒ **No multi-agent orchestration** - Single context model
- âŒ **Proprietary format** - Not compatible with other tools
- âŒ **Requires Cursor IDE** - Standalone application, not a plugin

**Example `.cursorrules` file:**
```markdown
# General Rules
- Use TypeScript strict mode
- Prefer functional components in React
- Write tests for all new features

# Code Style
- Use 2-space indentation
- Single quotes for strings
- Trailing commas in multiline objects

# Testing
- Jest for unit tests
- React Testing Library for component tests
```

### Cline

**Configuration files:**
```
None - Task-based, no persistent config files
```

**Key characteristics:**
- âœ… **Completely free** - MIT licensed
- âœ… **Task-oriented** - Describe tasks in natural language
- âœ… **Tool-use focused** - Can execute commands, edit files, browse web
- âœ… **API key flexibility** - Bring your own Anthropic/OpenAI key
- âŒ **No repository-level configuration** - Must specify context each time
- âŒ **No reusable prompt library** - No equivalent to `.prompt.md` files
- âŒ **Limited IDE integration** - VS Code only

### Continue Dev

**Configuration files:**
```
.continue/
â””â”€â”€ config.json           # Model configuration, slash commands, context providers
```

**Key characteristics:**
- âœ… **Open source** - Apache 2.0 license
- âœ… **Model agnostic** - Supports 20+ LLM providers
- âœ… **Custom slash commands** - Define your own commands in JSON
- âœ… **Context providers** - Integrate with GitHub, GitLab, Jira, etc.
- âœ… **Autocomplete + chat** - Both inline and chat interfaces
- âŒ **JSON configuration** - Less readable than Markdown
- âŒ **No multi-agent support** - Single context model
- âŒ **Limited instruction flexibility** - No glob-based pattern matching

**Example `config.json` slash command:**
```json
{
  "slashCommands": [
    {
      "name": "test",
      "description": "Generate unit tests",
      "prompt": "Generate comprehensive unit tests for the selected code. Use Jest and React Testing Library."
    }
  ]
}
```

### Windsurf

**Configuration files:**
```
.windsurfrules            # Repository-wide rules (single file)
```

**Key characteristics:**
- âœ… **Flows feature** - Multi-step task automation
- âœ… **Cascade mode** - Context-aware multi-file editing
- âœ… **Simple configuration** - Single rules file
- âŒ **Proprietary format** - Not compatible with other tools
- âŒ **Requires Windsurf IDE** - Standalone application
- âŒ **Newer tool** - Smaller community, fewer established patterns

## Feature Comparison Matrix

| Feature | Copilot | Cursor | Cline | Continue | Windsurf |
|---------|---------|--------|-------|----------|----------|
| **Inline completion** | âœ… | âœ… | âŒ | âœ… | âœ… |
| **Chat interface** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Multi-file editing** | âš ï¸ Limited | âœ… Composer | âš ï¸ Manual | âš ï¸ Limited | âœ… Cascade |
| **Custom instructions** | âœ… Multiple files | âœ… Single file | âŒ | âš ï¸ JSON only | âœ… Single file |
| **Reusable prompts** | âœ… `.prompt.md` | âš ï¸ Via composer | âŒ | âœ… Slash commands | âŒ |
| **Multi-agent workflow** | âœ… Handoffs | âŒ | âŒ | âŒ | âŒ |
| **Pattern-based rules** | âœ… Glob patterns | âŒ | âŒ | âŒ | âŒ |
| **Model choice** | âš ï¸ Limited | âœ… Multiple | âœ… BYOK | âœ… 20+ providers | âš ï¸ Limited |
| **Open source** | âŒ | âŒ | âœ… | âœ… | âŒ |
| **Cross-IDE support** | âœ… 3+ IDEs | âŒ Cursor only | âŒ VS Code only | âŒ VS Code only | âŒ Windsurf only |
| **Enterprise features** | âœ… | âœ… | âŒ | âš ï¸ Self-hosted | âœ… |

## Migration Scenarios

### From Cursor to Copilot

**What transfers:**
- General coding guidelines from `.cursorrules` â†’ `.github/copilot-instructions.md`
- Documentation references â†’ `.copilot/context/` folder

**What requires recreation:**
- Composer-specific workflows â†’ Custom agents with handoffs
- `@docs` indexed folders â†’ Explicit references in instructions

**Migration strategy:**
1. Copy content from `.cursorrules` to `.github/copilot-instructions.md`
2. Split large rule sections into separate `.instructions.md` files with `applyTo` patterns
3. Convert common composer prompts to `.prompt.md` files
4. Create custom agents for multi-step workflows that used composer mode

### From Continue Dev to Copilot

**What transfers:**
- Slash command prompts â†’ `.prompt.md` files in `.github/prompts/`
- General guidelines â†’ `.github/copilot-instructions.md`

**What requires recreation:**
- Context providers (GitHub, GitLab) â†’ Use native Copilot integrations
- Custom model configurations â†’ Use Copilot's model picker or BYOK

**Migration strategy:**
1. Extract `prompt` content from each `slashCommands` entry in `config.json`
2. Create corresponding `.prompt.md` files with YAML frontmatter:
   ```yaml
   ---
   name: test
   description: Generate unit tests
   ---
   
   [Prompt content from config.json]
   ```
3. Move general instructions to `.github/copilot-instructions.md`

### From Copilot to Cursor

**What transfers:**
- `.github/copilot-instructions.md` â†’ `.cursorrules`
- `.copilot/context/` documentation â†’ `docs/` folder (for `@docs` indexing)

**What requires recreation:**
- Individual `.prompt.md` files â†’ Manual prompts in Composer
- `.agent.md` files with handoffs â†’ Multi-step manual workflows
- Path-specific `.instructions.md` â†’ Consolidated in single `.cursorrules`

**Migration strategy:**
1. Consolidate all `.instructions.md` files into a single `.cursorrules` file
2. Add file path context manually (Cursor doesn't support glob patterns)
3. Copy `.github/copilot-instructions.md` content to `.cursorrules`
4. Document prompt workflows in team wiki (no direct equivalent)

## Unique Advantages

### GitHub Copilot Strengths

- **Multi-agent orchestration** - Handoffs enable complex workflows
- **Glob pattern matching** - Instructions auto-apply based on file patterns
- **Cross-IDE consistency** - Same prompts work in VS Code, Visual Studio, JetBrains
- **Enterprise integration** - GitHub Advanced Security, audit logs, policy enforcement
- **Rich metadata** - YAML frontmatter with tools, models, handoffs, targets

### When Copilot is the Right Choice

- âœ… Enterprise organizations with GitHub Enterprise subscriptions
- âœ… Teams using multiple IDEs (VS Code + Visual Studio + JetBrains)
- âœ… Projects requiring granular, path-specific coding standards
- âœ… Complex workflows needing multiple specialized agents
- âœ… Organizations prioritizing GitHub ecosystem integration

### When Alternatives Might Be Better

| Use Case | Recommended Tool | Reason |
|----------|------------------|--------|
| **Startups with tight budgets** | Cline or Continue Dev | Free, open-source, BYOK model flexibility |
| **Multi-file refactoring** | Cursor | Composer mode excels at large-scale edits |
| **Model experimentation** | Continue Dev | Supports 20+ LLM providers natively |
| **Simple, single-IDE workflow** | Cursor or Windsurf | Less configuration overhead |
| **Self-hosted requirements** | Continue Dev | Can run entirely on-premises |

## Hybrid Approaches

Many teams use **multiple tools strategically**:

**Example 1: Copilot + Cline**
- Copilot for daily coding (inline completion, chat, code review)
- Cline for complex refactoring tasks requiring extensive file changes
- Benefit: Copilot's reusable prompts + Cline's powerful task execution

**Example 2: Copilot + Continue Dev**
- Copilot as primary tool (team-wide standards, cross-IDE consistency)
- Continue Dev for developers wanting specific model choices (e.g., Claude Opus vs GPT-4)
- Benefit: Consistent prompts, flexible model selection

**Example 3: Cursor for Prototyping, Copilot for Production**
- Cursor during rapid prototyping phase (Composer's multi-file editing)
- Migrate to Copilot for team development (standardized prompts, enterprise features)
- Benefit: Speed during exploration, consistency in collaboration

## Key Takeaways

- **GitHub Copilot** excels at enterprise scale, cross-IDE workflows, and multi-agent orchestration
- **Cursor** leads in multi-file editing workflows with Composer mode
- **Cline** and **Continue Dev** offer free, open-source alternatives with BYOK flexibility
- **Configuration formats are incompatible** - migration requires manual conversion
- **Hybrid approaches** can leverage strengths of multiple tools

Choose based on:
- Team size and budget
- IDE diversity (single vs. multiple IDEs)
- Need for custom instructions and reusable prompts
- Model flexibility requirements
- Enterprise integration needs

---

# ğŸ“ Appendix G: Feature Compatibility Matrix

GitHub Copilot's features vary significantly across IDEs and versions. This matrix helps teams understand which capabilities are available in different environments.

## IDE Version Requirements

| IDE | Minimum Version for Prompt Files | Minimum Version for Custom Agents | Latest Tested Version |
|-----|----------------------------------|-----------------------------------|----------------------|
| **VS Code** | 1.93 | 1.106 (stable agents) | 1.107 (Dec 2024) |
| **Visual Studio** | 17.10 | Not supported | 17.12 (Nov 2024) |
| **JetBrains** | 2024.1 | Not supported | 2024.3 |
| **Copilot CLI** | 1.0 | 1.0 (via `.agent.md`) | 1.4 |
| **GitHub.com** | N/A (web-based) | Coding Agent only | Current |

## Feature Support Matrix

| Feature | VS Code | Visual Studio | JetBrains | Copilot CLI | GitHub.com |
|---------|---------|---------------|-----------|-------------|------------|
| **`.prompt.md` files** | âœ… 1.93+ | âœ… 17.10+ | âœ… 2024.1+ | âœ… | âš ï¸ PR Copilot only |
| **`.github/copilot-instructions.md`** | âœ… 1.93+ | âœ… 17.10+ | âœ… 2024.1+ | âŒ | âš ï¸ PR Copilot only |
| **`.instructions.md` with `applyTo`** | âœ… 1.95+ | âœ… 17.10+ | âœ… 2024.2+ | âŒ | âŒ |
| **`.agent.md` files** | âœ… 1.106+ | âŒ | âŒ | âœ… | âŒ |
| **Agent handoffs** | âœ… 1.106+ | âŒ | âŒ | âŒ | âŒ |
| **User-scope prompts** | âœ… 1.93+ | âŒ | âš ï¸ Via settings | âŒ | âŒ |
| **YAML frontmatter in prompts** | âœ… 1.93+ | âš ï¸ Limited | âœ… 2024.1+ | âœ… | âŒ |
| **`tools` field in prompts** | âœ… 1.95+ | âŒ | âŒ | âŒ | âŒ |
| **`model` field in prompts** | âœ… 1.100+ | âŒ | âŒ | âš ï¸ CLI-wide only | âŒ |
| **Background agents** | âœ… 1.107+ | âŒ | âŒ | âŒ | âŒ |
| **Cloud agents (GitHub PRs)** | âœ… 1.107+ | âŒ | âŒ | âŒ | âœ… |
| **BYOK (Bring Your Own Key)** | âœ… 1.102+ | âŒ | âŒ | âŒ | âŒ |
| **MCP server integration** | âœ… 1.102+ | âŒ | âŒ | âŒ | âŒ |
| **`AGENTS.md` support** | âœ… 1.100+ | âœ… 17.11+ | âœ… 2024.2+ | âœ… | âœ… |
| **Inline completion** | âœ… All | âœ… All | âœ… All | âŒ | âŒ |
| **Chat interface** | âœ… All | âœ… All | âœ… All | âœ… | âœ… |

**Legend:**
- âœ… Fully supported
- âš ï¸ Partially supported or different implementation
- âŒ Not supported

## Prompt File Syntax Compatibility

| YAML Field | VS Code | Visual Studio | JetBrains | Copilot CLI | Notes |
|------------|---------|---------------|-----------|-------------|-------|
| `name` | âœ… | âœ… | âœ… | âœ… | Used as command name |
| `description` | âœ… | âœ… | âœ… | âœ… | Shown in UI |
| `agent` | âœ… 1.95+ | âŒ | âŒ | âŒ | `ask`, `edit`, `agent` modes |
| `model` | âœ… 1.100+ | âŒ | âŒ | âš ï¸ | VS Code only |
| `tools` | âœ… 1.95+ | âŒ | âŒ | âŒ | Limit available tools |
| `argument-hint` | âœ… 1.96+ | âŒ | âŒ | âŒ | Help text for arguments |
| `variables` | âœ… 1.99+ | âŒ | âŒ | âŒ | Variable declarations |

## Agent File Syntax Compatibility

| YAML Field | VS Code | Visual Studio | JetBrains | Copilot CLI | Notes |
|------------|---------|---------------|-----------|-------------|-------|
| `description` | âœ… | âŒ | âŒ | âœ… | Agent summary |
| `tools` | âœ… | âŒ | âŒ | âœ… | Available tools |
| `model` | âœ… | âŒ | âŒ | âš ï¸ | Model selection |
| `handoffs` | âœ… 1.106+ | âŒ | âŒ | âŒ | Workflow transitions |
| `target` | âœ… 1.107+ | âŒ | âŒ | âŒ | `vscode`, `github-copilot` |
| `mcp-servers` | âœ… 1.107+ | âŒ | âŒ | âŒ | Cloud agents only |

## Instruction File Syntax Compatibility

| YAML Field | VS Code | Visual Studio | JetBrains | Copilot CLI | Notes |
|------------|---------|---------------|-----------|-------------|-------|
| `applyTo` | âœ… 1.95+ | âœ… 17.10+ | âœ… 2024.2+ | âŒ | Glob pattern matching |
| `excludeAgent` | âœ… 1.106+ | âŒ | âŒ | âŒ | Agent exclusion list |

## Command Invocation Syntax

| IDE | Prompt Command | Agent Command | Instruction Application |
|-----|----------------|---------------|------------------------|
| **VS Code** | `/promptName` | `@agentName` | Automatic (glob match) |
| **Visual Studio** | `#promptName` or `#prompt:<prompt-name>` | Not supported | Automatic (glob match) |
| **JetBrains** | `/promptName` | Not supported | Automatic (glob match) |
| **Copilot CLI** | `gh copilot --prompt promptName` | `gh copilot --agent agentName` | Not supported |

## Context Variable Support

| Variable | VS Code | Visual Studio | JetBrains | Notes |
|----------|---------|---------------|-----------|-------|
| `#file` | âœ… | âš ï¸ Limited | âŒ | Reference files in chat |
| `#fetch` | âœ… | âŒ | âŒ | Fetch remote content |
| `#selection` | âœ… | âœ… | âœ… | Current editor selection |
| `#editor` | âœ… | âš ï¸ | âš ï¸ | Active editor content |
| `#codebase` | âœ… 1.95+ | âŒ | âŒ | Entire codebase context |
| `@workspace` | âœ… | âœ… | âœ… | Workspace-wide search |
| `@terminal` | âœ… | âŒ | âŒ | Terminal context |
| `@vscode` | âœ… | âŒ | âŒ | VS Code API help |

## Settings and Configuration

| Setting | VS Code | Visual Studio | JetBrains | Location |
|---------|---------|---------------|-----------|----------|
| **Enable custom instructions** | âœ… | âœ… | âœ… | IDE settings |
| **Enable workspace prompts** | âœ… Auto | âœ… Auto | âœ… Auto | Automatic discovery |
| **Enable user prompts** | âœ… | âŒ | âš ï¸ Manual | User profile |
| **Model selection** | âœ… UI picker | âš ï¸ Limited | âŒ | IDE-specific |
| **BYOK configuration** | âœ… UI + JSON | âŒ | âŒ | `languageModels.json` |

## Versioning and Deprecation

| Feature | Introduced | Deprecated | Replacement | Notes |
|---------|------------|------------|-------------|-------|
| **`.chatmode.md`** | VS Code 1.93 | VS Code 1.106 | `.agent.md` | Migration via Quick Fix |
| **`@workspace`** | VS Code 1.90 | Not deprecated | `#codebase` preferred | Both still work |
| **Mode-specific participants** | VS Code 1.93 | VS Code 1.106 | Agents with `target` | `/edit`, `/ask` deprecated |
| **`.github/chatmodes/`** | VS Code 1.93 | VS Code 1.106 | `.github/agents/` | Folder rename |

## Best Practices for Cross-IDE Compatibility

### Maximum Compatibility Approach

To ensure your prompts work across all supported IDEs:

âœ… **DO:**
- Use basic YAML fields only (`name`, `description`)
- Keep prompt content in Markdown body
- Store prompts in `.github/prompts/`
- Use `.github/copilot-instructions.md` for repository-wide rules
- Use `.instructions.md` with `applyTo` for path-specific rules
- Document IDE-specific syntax differences in team wiki

âŒ **AVOID:**
- Advanced YAML fields (`tools`, `model`, `handoffs`) if Visual Studio users need prompts
- Custom agents (`.agent.md`) for cross-IDE teams
- User-scope prompts for team-wide workflows
- VS Code-specific context variables (`#fetch`, `#codebase`)

### VS Code-Only Team Approach

If your entire team uses VS Code, leverage advanced features:

âœ… **USE:**
- Custom agents with handoffs for complex workflows
- `tools` field to limit available tools per prompt
- `model` field for prompt-specific model selection
- Background agents for long-running tasks
- BYOK for cost control and model flexibility
- MCP servers for extended capabilities

### Visual Studio-First Approach

For teams primarily using Visual Studio:

âœ… **FOCUS ON:**
- Basic `.prompt.md` files without advanced YAML
- `.github/copilot-instructions.md` for standards
- `.instructions.md` with `applyTo` patterns
- Hashtag command syntax (`#promptName`)
- `AGENTS.md` files for Coding Agent guidance

## Testing Compatibility

Before committing prompt files, test in all IDEs your team uses:

```bash
# Checklist for prompt file validation
1. âœ… File is in `.github/prompts/`
2. âœ… Extension is `.prompt.md` (not `.prompt`)
3. âœ… YAML frontmatter is valid (parse with yamllint)
4. âœ… Test in VS Code: `/promptName` appears
5. âœ… Test in Visual Studio: `#promptName` works
6. âœ… Test in JetBrains: `/promptName` appears
7. âœ… Verify description shows in all UIs
8. âœ… Advanced fields gracefully ignored in older IDEs
```

## Migration Timing

When new features stabilize in VS Code, consider:

- **VS Code 1.107** (Dec 2024): Background agents, cloud agents, enhanced BYOK
- **Visual Studio 17.12** (Nov 2024): Improved prompt file support, better YAML parsing
- **JetBrains 2024.3**: Enhanced custom instruction handling

Check IDE release notes quarterly to identify new feature opportunities.

---

*Last updated: December 2025*

